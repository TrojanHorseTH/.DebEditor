<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>.DebEditor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="editor-container">
    <header class="topbar">
      <h1>.DebEditor</h1>
      <p>Import · Edit · Export .deb files</p>
    </header>

    <section class="section import-section">
      <h2>Import .deb</h2>
      <label class="custom-file-upload">
        <input type="file" id="import-file" accept=".deb">
        Select .deb File
      </label>
      <button class="btn" onclick="importFile()">Import</button>
    </section>

    <section class="section edit-section">
      <h2>Edit Package</h2>
      <textarea id="file-contents" placeholder="Package data will appear here…"></textarea>
      <button class="btn" onclick="editFile()">Apply Changes</button>
    </section>

    <section class="section export-section">
      <h2>Export .deb</h2>
      <button class="btn export-btn" onclick="exportFile()">Export Package</button>
    </section>
  </div>

  <script>
    function importFile() {
      const fileInput = document.getElementById('import-file');
      if (!fileInput.files.length) {
        alert("Please choose a .deb file to import.");
        return;
      }
      const file = fileInput.files[0];
      document.getElementById('file-contents').value = `Loaded: ${file.name}`;
      // TODO: send file to backend for unpacking/editing
    }

    function editFile() {
      const content = document.getElementById('file-contents').value;
      if (!content) {
        alert("Nothing to edit.");
        return;
      }
      alert("Contents updated!");
      // TODO: apply edits to parsed .deb data
    }

    function exportFile() {
      alert("Export triggered!");
      // TODO: send updated content to backend to reassemble .deb
    }
  </script>
</body>
</html>
